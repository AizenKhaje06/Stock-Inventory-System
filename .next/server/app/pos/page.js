(()=>{var e={};e.id=807,e.ids=[807],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},53654:(e,t,r)=>{Promise.resolve().then(r.bind(r,78990))},57809:(e,t,r)=>{"use strict";function s(){return null}r.r(t),r.d(t,{default:()=>s})},60009:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(41132),n=r(89587),a=r(84299),o=r.n(a),i=r(46468),l={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d={children:["",{children:["pos",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,73508)),"C:\\Inventory Management System\\Inventory-Management-System\\app\\pos\\page.tsx"]}]},{loading:[()=>Promise.resolve().then(r.bind(r,57809)),"C:\\Inventory Management System\\Inventory-Management-System\\app\\pos\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,18214)),"C:\\Inventory Management System\\Inventory-Management-System\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,27225,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,61460,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,77237,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Inventory Management System\\Inventory-Management-System\\app\\pos\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/pos/page",pathname:"/pos",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73508:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(71104).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Inventory Management System\\\\Inventory-Management-System\\\\app\\\\pos\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Inventory Management System\\Inventory-Management-System\\app\\pos\\page.tsx","default")},78990:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ep});var s=r(6662),n=r(82407),a=r(40478),o=r(82768),i=r(92740),l=r(80230),d=r(10151),c=r(84575),u=r(45123),m=r(27439),p=r(42872),f=r(87356),x=r(32973),h=r(24960),v=r(87905),g="rovingFocusGroup.onEntryFocus",y={bubbles:!1,cancelable:!0},b="RovingFocusGroup",[j,w,N]=(0,p.N)(b),[C,k]=(0,u.A)(b,[N]),[S,P]=C(b),R=n.forwardRef((e,t)=>(0,s.jsx)(j.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,s.jsx)(j.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,s.jsx)(I,{...e,ref:t})})}));R.displayName=b;var I=n.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:a,loop:o=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:p,onEntryFocus:f,preventScrollOnEntryFocus:b=!1,...j}=e,N=n.useRef(null),C=(0,c.s)(t,N),k=(0,v.jH)(i),[P=null,R]=(0,h.i)({prop:l,defaultProp:u,onChange:p}),[I,E]=n.useState(!1),A=(0,x.c)(f),q=w(r),M=n.useRef(!1),[_,G]=n.useState(0);return n.useEffect(()=>{let e=N.current;if(e)return e.addEventListener(g,A),()=>e.removeEventListener(g,A)},[A]),(0,s.jsx)(S,{scope:r,orientation:a,dir:k,loop:o,currentTabStopId:P,onItemFocus:n.useCallback(e=>R(e),[R]),onItemShiftTab:n.useCallback(()=>E(!0),[]),onFocusableItemAdd:n.useCallback(()=>G(e=>e+1),[]),onFocusableItemRemove:n.useCallback(()=>G(e=>e-1),[]),children:(0,s.jsx)(m.sG.div,{tabIndex:I||0===_?-1:0,"data-orientation":a,...j,ref:C,style:{outline:"none",...e.style},onMouseDown:(0,d.m)(e.onMouseDown,()=>{M.current=!0}),onFocus:(0,d.m)(e.onFocus,e=>{let t=!M.current;if(e.target===e.currentTarget&&t&&!I){let t=new CustomEvent(g,y);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=q().filter(e=>e.focusable);F([e.find(e=>e.active),e.find(e=>e.id===P),...e].filter(Boolean).map(e=>e.ref.current),b)}}M.current=!1}),onBlur:(0,d.m)(e.onBlur,()=>E(!1))})})}),E="RovingFocusGroupItem",A=n.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:a=!0,active:o=!1,tabStopId:i,...l}=e,c=(0,f.B)(),u=i||c,p=P(E,r),x=p.currentTabStopId===u,h=w(r),{onFocusableItemAdd:v,onFocusableItemRemove:g}=p;return n.useEffect(()=>{if(a)return v(),()=>g()},[a,v,g]),(0,s.jsx)(j.ItemSlot,{scope:r,id:u,focusable:a,active:o,children:(0,s.jsx)(m.sG.span,{tabIndex:x?0:-1,"data-orientation":p.orientation,...l,ref:t,onMouseDown:(0,d.m)(e.onMouseDown,e=>{a?p.onItemFocus(u):e.preventDefault()}),onFocus:(0,d.m)(e.onFocus,()=>p.onItemFocus(u)),onKeyDown:(0,d.m)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){p.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,r){var s;let n=(s=e.key,"rtl"!==r?s:"ArrowLeft"===s?"ArrowRight":"ArrowRight"===s?"ArrowLeft":s);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(n))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)))return q[n]}(e,p.orientation,p.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=h().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();let s=r.indexOf(e.currentTarget);r=p.loop?function(e,t){return e.map((r,s)=>e[(t+s)%e.length])}(r,s+1):r.slice(s+1)}setTimeout(()=>F(r))}})})})});A.displayName=E;var q={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function F(e,t=!1){let r=document.activeElement;for(let s of e)if(s===r||(s.focus({preventScroll:t}),document.activeElement!==r))return}var M=r(22258),_=r(58864),G=r(28585),T="Radio",[D,L]=(0,u.A)(T),[K,z]=D(T),B=n.forwardRef((e,t)=>{let{__scopeRadio:r,name:a,checked:o=!1,required:i,disabled:l,value:u="on",onCheck:p,form:f,...x}=e,[h,v]=n.useState(null),g=(0,c.s)(t,e=>v(e)),y=n.useRef(!1),b=!h||f||!!h.closest("form");return(0,s.jsxs)(K,{scope:r,checked:o,disabled:l,children:[(0,s.jsx)(m.sG.button,{type:"button",role:"radio","aria-checked":o,"data-state":W(o),"data-disabled":l?"":void 0,disabled:l,value:u,...x,ref:g,onClick:(0,d.m)(e.onClick,e=>{o||p?.(),b&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})}),b&&(0,s.jsx)(Z,{control:h,bubbles:!y.current,name:a,value:u,checked:o,required:i,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});B.displayName=T;var J="RadioIndicator",O=n.forwardRef((e,t)=>{let{__scopeRadio:r,forceMount:n,...a}=e,o=z(J,r);return(0,s.jsx)(G.C,{present:n||o.checked,children:(0,s.jsx)(m.sG.span,{"data-state":W(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t})})});O.displayName=J;var Z=e=>{let{control:t,checked:r,bubbles:a=!0,...o}=e,i=n.useRef(null),l=(0,_.Z)(r),d=(0,M.X)(t);return n.useEffect(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==r&&t){let s=new Event("click",{bubbles:a});t.call(e,r),e.dispatchEvent(s)}},[l,r,a]),(0,s.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:i,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function W(e){return e?"checked":"unchecked"}var H=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],U="RadioGroup",[V,X]=(0,u.A)(U,[k,L]),$=k(),Q=L(),[Y,ee]=V(U),et=n.forwardRef((e,t)=>{let{__scopeRadioGroup:r,name:n,defaultValue:a,value:o,required:i=!1,disabled:l=!1,orientation:d,dir:c,loop:u=!0,onValueChange:p,...f}=e,x=$(r),g=(0,v.jH)(c),[y,b]=(0,h.i)({prop:o,defaultProp:a,onChange:p});return(0,s.jsx)(Y,{scope:r,name:n,required:i,disabled:l,value:y,onValueChange:b,children:(0,s.jsx)(R,{asChild:!0,...x,orientation:d,dir:g,loop:u,children:(0,s.jsx)(m.sG.div,{role:"radiogroup","aria-required":i,"aria-orientation":d,"data-disabled":l?"":void 0,dir:g,...f,ref:t})})})});et.displayName=U;var er="RadioGroupItem",es=n.forwardRef((e,t)=>{let{__scopeRadioGroup:r,disabled:a,...o}=e,i=ee(er,r),l=i.disabled||a,u=$(r),m=Q(r),p=n.useRef(null),f=(0,c.s)(t,p),x=i.value===o.value,h=n.useRef(!1);return n.useEffect(()=>{let e=e=>{H.includes(e.key)&&(h.current=!0)},t=()=>h.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,s.jsx)(A,{asChild:!0,...u,focusable:!l,active:x,children:(0,s.jsx)(B,{disabled:l,required:i.required,checked:x,...m,...o,name:i.name,ref:f,onCheck:()=>i.onValueChange(o.value),onKeyDown:(0,d.m)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,d.m)(o.onFocus,()=>{h.current&&p.current?.click()})})})});es.displayName=er;var en=n.forwardRef((e,t)=>{let{__scopeRadioGroup:r,...n}=e,a=Q(r);return(0,s.jsx)(O,{...a,...n,ref:t})});en.displayName="RadioGroupIndicator";let ea=(0,r(51555).A)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var eo=r(91689);function ei({className:e,...t}){return(0,s.jsx)(et,{"data-slot":"radio-group",className:(0,eo.cn)("grid gap-3",e),...t})}function el({className:e,...t}){return(0,s.jsx)(es,{"data-slot":"radio-group-item",className:(0,eo.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,s.jsx)(en,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:(0,s.jsx)(ea,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var ed=r(72014),ec=r(79911),eu=r(31834),em=r(11434);function ep(){let[e,t]=(0,n.useState)([]),[r,d]=(0,n.useState)([]),[c,u]=(0,n.useState)([]),[m,p]=(0,n.useState)(""),[f,x]=(0,n.useState)(!1),[h,v]=(0,n.useState)("cash"),[g,y]=(0,n.useState)("gcash"),[b,j]=(0,n.useState)("");async function w(){try{let e=await fetch("/api/items"),r=await e.json();t(r),d(r)}catch(e){console.error("[v0] Error fetching items:",e)}}function N(e){u(c.filter(t=>t.item.id!==e))}async function C(){if(0===c.length)return;let e="cash"===h?"cash":g;x(!0);try{let t=c.map(e=>({itemId:e.item.id,quantity:e.quantity}));await fetch("/api/sales",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:t,paymentMethod:e,referenceNumber:"cash"===h?void 0:b})}),u([]),w(),alert("Sale completed successfully!")}catch(e){console.error("[v0] Error processing sale:",e),alert("Failed to process sale")}finally{x(!1)}}let k=c.reduce((e,t)=>e+t.item.sellingPrice*t.quantity,0);return(0,s.jsxs)("div",{className:"p-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Point of Sale"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Process sales transactions"})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(o.Zp,{className:"mb-6 bg-card border-border",children:(0,s.jsx)(o.Wu,{className:"pt-6",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(ec.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,s.jsx)(i.p,{placeholder:"Search products...",value:m,onChange:e=>p(e.target.value),className:"pl-10"})]})})}),(0,s.jsxs)(o.Zp,{className:"bg-card border-border",children:[(0,s.jsx)(o.aR,{children:(0,s.jsx)(o.ZB,{className:"text-foreground",children:"Products"})}),(0,s.jsx)(o.Wu,{children:(0,s.jsx)("div",{className:"max-h-[600px] space-y-2 overflow-y-auto",children:r.map(e=>(0,s.jsx)("button",{onClick:()=>(function(e){let t=c.find(t=>t.item.id===e.id);t?t.quantity<e.quantity&&u(c.map(t=>t.item.id===e.id?{...t,quantity:t.quantity+1}:t)):u([...c,{item:e,quantity:1}])})(e),className:"w-full rounded-lg border border-border bg-secondary p-4 text-left transition-colors hover:bg-secondary/80",disabled:0===e.quantity,children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-foreground",children:e.name}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Stock: ",e.quantity]})]}),(0,s.jsxs)("p",{className:"text-lg font-semibold text-foreground",children:["₱",e.sellingPrice.toFixed(2)]})]})},e.id))})})]})]}),(0,s.jsx)("div",{children:(0,s.jsxs)(o.Zp,{className:"bg-card border-border",children:[(0,s.jsx)(o.aR,{children:(0,s.jsxs)(o.ZB,{className:"flex items-center gap-2 text-foreground",children:[(0,s.jsx)(eu.A,{className:"h-5 w-5"}),"Cart (",c.length,")"]})}),(0,s.jsx)(o.Wu,{children:(0,s.jsx)("div",{className:"space-y-4",children:0===c.length?(0,s.jsx)("p",{className:"py-8 text-center text-muted-foreground",children:"Cart is empty"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"max-h-[400px] space-y-4 overflow-y-auto",children:c.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-4 rounded-lg border border-border p-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-medium text-foreground",children:e.item.name}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["₱",e.item.sellingPrice.toFixed(2)," each"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(i.p,{type:"number",min:"1",max:e.item.quantity,value:e.quantity,onChange:t=>(function(e,t){let r=c.find(t=>t.item.id===e);if(r){if(t<=0){N(e);return}t<=r.item.quantity&&u(c.map(r=>r.item.id===e?{...r,quantity:t}:r))}})(e.item.id,Number.parseInt(t.target.value)),className:"w-20"}),(0,s.jsx)(a.$,{variant:"ghost",size:"sm",onClick:()=>N(e.item.id),children:(0,s.jsx)(em.A,{className:"h-4 w-4"})})]}),(0,s.jsxs)("p",{className:"font-semibold text-foreground",children:["₱",(e.item.sellingPrice*e.quantity).toFixed(2)]})]},e.item.id))}),(0,s.jsxs)("div",{className:"border-t border-border pt-4",children:[(0,s.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,s.jsx)("p",{className:"text-lg font-semibold text-foreground",children:"Total"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-foreground",children:["₱",k.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"space-y-4 mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(l.J,{className:"text-sm font-medium text-foreground",children:"Payment Method"}),(0,s.jsxs)(ei,{value:h,onValueChange:e=>v(e),className:"flex items-center space-x-4 mt-2",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(el,{value:"cash",id:"cash"}),(0,s.jsx)(l.J,{htmlFor:"cash",children:"Cash"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(el,{value:"ewallet",id:"ewallet"}),(0,s.jsx)(l.J,{htmlFor:"ewallet",children:"E-Wallet"})]})]})]}),"ewallet"===h&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(l.J,{className:"text-sm font-medium text-foreground",children:"E-Wallet Type"}),(0,s.jsxs)(ed.l6,{value:g,onValueChange:e=>y(e),children:[(0,s.jsx)(ed.bq,{className:"mt-2",children:(0,s.jsx)(ed.yv,{})}),(0,s.jsxs)(ed.gC,{children:[(0,s.jsx)(ed.eb,{value:"gcash",children:"GCash"}),(0,s.jsx)(ed.eb,{value:"paymaya",children:"PayMaya"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(l.J,{className:"text-sm font-medium text-foreground",children:"Reference Number"}),(0,s.jsx)(i.p,{placeholder:"Enter reference number",value:b,onChange:e=>j(e.target.value),className:"mt-2"})]})]})]}),(0,s.jsx)(a.$,{onClick:C,disabled:f||"ewallet"===h&&!b,className:"w-full",size:"lg",children:f?"Processing...":"Complete Sale"})]})]})})})]})})]})]})}},90606:(e,t,r)=>{Promise.resolve().then(r.bind(r,73508))}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[555,332,329,502],()=>r(60009));module.exports=s})();